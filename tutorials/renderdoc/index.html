
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Frame Analysis - Graphics Programming</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#renderdoc-frame-analysis" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Graphics Programming" class="md-header__button md-logo" aria-label="Graphics Programming" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 22v-2h3v-3h2v3.5c0 .39-.16.74-.46 1.04-.3.3-.65.46-1.04.46H17M7 22H3.5c-.39 0-.74-.16-1.04-.46-.3-.3-.46-.65-.46-1.04V17h2v3h3v2M17 2h3.5c.39 0 .74.16 1.04.46.3.3.46.65.46 1.04V7h-2V4h-3V2M7 2v2H4v3H2V3.5c0-.39.16-.74.46-1.04.3-.3.65-.46 1.04-.46H7m6 15.25 4-2.3v-4.59l-4 2.3v4.59m-1-6.33 4-2.29-4-2.35-4 2.35 4 2.29m-5 4.03 4 2.3v-4.59l-4-2.3v4.59m11.23-7.36c.5.32.77.75.77 1.32v6.32c0 .57-.27 1-.77 1.32l-5.48 3.18c-.5.32-1 .32-1.5 0l-5.48-3.18c-.5-.32-.77-.75-.77-1.32V8.91c0-.57.27-1 .77-1.32l5.48-3.18c.25-.13.5-.19.75-.19s.5.06.75.19l5.48 3.18Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Graphics Programming
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Frame Analysis
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Travaux Pratiques

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Graphics Programming" class="md-nav__button md-logo" aria-label="Graphics Programming" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 22v-2h3v-3h2v3.5c0 .39-.16.74-.46 1.04-.3.3-.65.46-1.04.46H17M7 22H3.5c-.39 0-.74-.16-1.04-.46-.3-.3-.46-.65-.46-1.04V17h2v3h3v2M17 2h3.5c.39 0 .74.16 1.04.46.3.3.46.65.46 1.04V7h-2V4h-3V2M7 2v2H4v3H2V3.5c0-.39.16-.74.46-1.04.3-.3.65-.46 1.04-.46H7m6 15.25 4-2.3v-4.59l-4 2.3v4.59m-1-6.33 4-2.29-4-2.35-4 2.35 4 2.29m-5 4.03 4 2.3v-4.59l-4-2.3v4.59m11.23-7.36c.5.32.77.75.77 1.32v6.32c0 .57-.27 1-.77 1.32l-5.48 3.18c-.5.32-1 .32-1.5 0l-5.48-3.18c-.5-.32-.77-.75-.77-1.32V8.91c0-.57.27-1 .77-1.32l5.48-3.18c.25-.13.5-.19.75-.19s.5.06.75.19l5.48 3.18Z"/></svg>

    </a>
    Graphics Programming
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Travaux Pratiques
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Travaux Pratiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" checked>
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    RenderDoc
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            RenderDoc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Frame Analysis
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Frame Analysis
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#premiers-pas" class="md-nav__link">
    <span class="md-ellipsis">
      Premiers pas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composition-de-la-frame" class="md-nav__link">
    <span class="md-ellipsis">
      Composition de la Frame
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#draw-object-passes" class="md-nav__link">
    <span class="md-ellipsis">
      Draw Object Passes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#etude-dun-drawcall" class="md-nav__link">
    <span class="md-ellipsis">
      Étude d'un DrawCall
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Étude d'un DrawCall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertex-input" class="md-nav__link">
    <span class="md-ellipsis">
      Vertex Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertex-shader" class="md-nav__link">
    <span class="md-ellipsis">
      Vertex Shader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragment-shader" class="md-nav__link">
    <span class="md-ellipsis">
      Fragment Shader
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pour-aller-plus-loin" class="md-nav__link">
    <span class="md-ellipsis">
      Pour aller plus loin
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#premiers-pas" class="md-nav__link">
    <span class="md-ellipsis">
      Premiers pas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composition-de-la-frame" class="md-nav__link">
    <span class="md-ellipsis">
      Composition de la Frame
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#draw-object-passes" class="md-nav__link">
    <span class="md-ellipsis">
      Draw Object Passes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#etude-dun-drawcall" class="md-nav__link">
    <span class="md-ellipsis">
      Étude d'un DrawCall
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Étude d'un DrawCall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertex-input" class="md-nav__link">
    <span class="md-ellipsis">
      Vertex Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertex-shader" class="md-nav__link">
    <span class="md-ellipsis">
      Vertex Shader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragment-shader" class="md-nav__link">
    <span class="md-ellipsis">
      Fragment Shader
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pour-aller-plus-loin" class="md-nav__link">
    <span class="md-ellipsis">
      Pour aller plus loin
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="renderdoc-frame-analysis">RenderDoc - Frame Analysis</h1>
<p><img alt="Tutorial Cover" src="../assets/renderdoc.png" /></p>
<h2 id="introduction">Introduction</h2>
<p>Dans ce TP, nous allons ouvrir et analyser une capture de jeu à l'aide de RenderDoc.<br />
La capture a été réalisée dans le template <a href="https://unity.com/demos/urp-3d-sample">URP 3D Sample <img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a> du moteur Unity.</p>
<p>Ce template utilise l'Universal Render Pipeline, contenant un bon nombre de features de rendu. Le but ne sera pas
de tout analyser en détail, mais d'apprendre à se servir de RenderDoc pour naviguer à travers la composition de la frame et inspecter les différentes ressources : textures, buffers, shaders etc...</p>
<p>La capture a été réalisé avec l'API <em>OpenGL</em> pour être en lien avec le cours de programmation graphique.</p>
<details class="abstract" open="open">
<summary>Rendu de TP</summary>
<p>Un cours compte-rendu de TP est à rendre à la fin de celui ci.<br />
Il faudra répondre aux questions encadrées.<br />
Pas besoin de mise en page, de simples phrases suffiront. </p>
</details>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Si vous êtes bloqué, n'hésitez pas à solliciter votre encadrant.</p>
</div>
<h2 id="premiers-pas">Premiers pas</h2>
<p><a class="md-button" href="https://noe.masse.pro/content/urp-sample_capture.rdc">Télécharger la Capture (157 Mo) <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7 7-7Z"/></svg></span></a></p>
<p>Vous pouvez ouvrir la capture via le menu <code>File &gt; Open Capture</code>.</p>
<p>Voici le logiciel une fois la capture ouverte :</p>
<p><img alt="RenderDoc Overview" src="../assets/renderdoc_capture.png" /></p>
<ul>
<li><strong>Event Browser</strong> Cette fenêtre vous permet de naviguer à travers les différentes phases et appels d'API de la frame capturée. Chaque événement possède un ID. Certains sont regroupés par section.</li>
<li><strong>Texture Viewer</strong> Cette fenêtre vous permet de visualiser les textures utilisées lors d'un événement.</li>
<li><strong>Pipeline State</strong> Cette fenêtre vous permet de visualiser tous les états du pipeline de rendu lors d'un drawcall : ressources attachées, shader utilisé etc...</li>
<li><strong>Mesh Viewer</strong> Cette fenêtre vous permet d'inspecter les données du mesh utilisé lors d'un drawcall.</li>
<li><strong>Resource Inspector</strong> Toutes les ressources créées sont répertoriées ici.</li>
</ul>
<p>Pour vous facilier la tâche par la suite, assurez vous que le filtre de l'<strong>Event Browser</strong> soit <code>$action()</code></p>
<p>En ayant le <strong>Texture Viewer</strong> ouvert, ouvrez la section <code>(EID 511-6810) FrameTime.GPU &gt; UIR.DrawChain</code> et déplacez vous sur les différents éléments. </p>
<div class="admonition question">
<p class="admonition-title">Questions</p>
<p>D'après vous, à quoi correspondent les sections <code>GUITexture.Draw</code> ?<br />
Quelle section est la plus susceptible de nous intéresser ?</p>
</div>
<p>Comme vous l'aurez vite remarqué, les captures peuvent contenir beaucoup d'événements et de données qui ne nous intéressent pas. Il est donc nécessaire de savoir bien naviguer au sein de celles ci.</p>
<h2 id="composition-de-la-frame">Composition de la Frame</h2>
<p>Positionnez vous sur la section <code>(EID 1427-6715) ScriptableRenderer.Execute: PC_High_Renderer</code>.<br />
En gardant le <strong>Texture Viewer</strong> ouvert, naviguez entre les différentes sections.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Décrivez brièvement les différentes passes de rendu du renderer.<br />
Pour chaque passe, donner le nom des Outputs et votre intuition sur ce qu'elles représentent.<br />
Il est normal que certains outputs soient incompréhensibles.<br />
<em>Ignorez l'événement LightCookies.</em>  </p>
</div>
<h2 id="draw-object-passes">Draw Object Passes</h2>
<p>On peut voir qu'il y a deux passes principales pour dessiner les objets. Une pour les objets opaques et une pour les objets transparents.</p>
<p>Une particularité du renderer d'Unity est qu'il ne clear jamais sa target de couleur. Il est donc difficile de visualiser les différents drawcalls. Pour se faire, utilisez l'overlay <code>Clear Before Pass</code>. Cela permet de forcer le clear de la target avant la passe de rendu.</p>
<p><img alt="Texture Viewer Overlays" src="../assets/renderdoc_clear_before_pass.png" /></p>
<p>En naviguant sur les différents drawcalls de <code>RenderLoop.DrawSRPBatcher</code>, vous pouvez voir les différents objets se dessiner petit à petit.
Vous pouvez aussi utiliser l'overlay <code>Hightlight Drawcall</code> pour mettre en avant l'objet dessiné.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Selectionnez l'output de Depth.<br />
Utilisez la baguette pour automatiquement ajuster la range de depth.</p>
<p><img alt="Depth Range Tool" src="../assets/renderdoc_depth_range.png" />  </p>
<p>Que pouvez vous observer entre les différents drawcalls ?</p>
</div>
<p>Pour valider votre intuition, choisissez un drawcall et ouvrez la fenêtre <strong>Pipeline State</strong>.</p>
<p><img alt="Pipeline State Window" src="../assets/renderdoc_pipeline_state.png" /></p>
<p>En haut, vous pouvez apercevoir les différent stages du pipeline de rendu que vous conaissez bien.</p>
<p>Cliquez sur le stage <code>Framebuffer Output (FB)</code>. Le <em>Depth State</em> se trouve en bas.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Décrivez le depth state et validez (ou invalidez) votre intuition.<br />
En revenant sur les passes de rendu que vous avez observé, quel lien pouvez vous faire ?</p>
</div>
<h2 id="etude-dun-drawcall">Étude d'un DrawCall</h2>
<p>Choisissez un autre drawcall de la passe <code>DrawOpaqueObjects</code> et ouvrez la fenêtre <code>Pipeline State</code>.<br />
Prenez de préférence un drawcall bien visible.</p>
<h4 id="vertex-input">Vertex Input</h4>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Quels sont les différents attributs définis par Unity ?<br />
Unity utilise-t-il un seul ou plusieurs Buffer pour les vertices ?<br />
Ecrivez la structure correspondante au modèle de l'objet en C++.</p>
</div>
<h4 id="vertex-shader">Vertex Shader</h4>
<p>Fouillez dans les informations disponibles.<br />
Pour pouvez inspecter les données des uniforms en cliquant sur la flèche dans la section Go.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Où se trouvent les matrices ViewProjection (VP) et ObjectToWorld (M) ?<br />
Que pouvez vous déduire des noms des Uniform Buffers ?</p>
</div>
<h4 id="fragment-shader">Fragment Shader</h4>
<p>On peut constater que pas mal de ressources sont utilisées par le fragment shader. On y retrouve notamment les ShadowMaps générées apr les passes précedentes.</p>
<div class="admonition question">
<p class="admonition-title">Exercice</p>
<p>Ouvre le shader en mode édition :</p>
<p><img alt="Fragment Shader Edition" src="../assets/renderdoc_shader_edit.png" /></p>
<p>Le shader est obfusqué mais écrit en glsl.<br />
Modifiez le shader pour que l'objet dessiné soit vert (0, 1, 0).</p>
<p><img alt="Green Object" src="../assets/renderdoc_shader_edit_example.png" /></p>
</div>
<details class="question" open="open">
<summary>Exercice (Bonus)</summary>
<p>Comme pour l'exercice précédent, modifiez le shader pour qu'il affiche les UVs de l'objet.<br />
Vous aurez besoin d'aller voir le code du vertex shader.</p>
<p><img alt="Object dispalying UVs" src="../assets/renderdoc_shader_edit_example_uv.png" /></p>
</details>
<h2 id="pour-aller-plus-loin">Pour aller plus loin</h2>
<p>Nous avons fait le tour de fonctionalités de base. 
Pour aller plus loin, vous pouvez vous rendre sur la <a href="https://renderdoc.org/docs/introduction.html">documentation officielle <img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tooltips", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.path", "navigation.sections"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>